{"version":3,"file":"src_app_views_purchases_purchase_module_ts.js","mappings":"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","sources":["./src/app/shared/services/purchase.service.ts","./src/app/views/purchases/purchase-detail/purchase-detail.component.ts","./src/app/views/purchases/purchase-detail/purchase-detail.component.html","./src/app/views/purchases/purchase-list/purchase-list.component.ts","./src/app/views/purchases/purchase-list/purchase-list.component.html","./src/app/views/purchases/purchase-routing.module.ts","./src/app/views/purchases/purchase.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs-compat';\r\nimport { Utils } from 'src/app/shared/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PurchasesService {\r\n\r\n  //Url de la api\r\n  url ='https://api-cosmetic-w32d.onrender.com/api/purchases';\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n\r\n  // Trae toas las purchase\r\n  getAllPurchase():Observable<any>{\r\n    return this.http.get(this.url);\r\n  }\r\n\r\n  //Ruta para verificar si ya esxite una categoria\r\n  getValidatePurchaseExist(name_category: boolean): Observable<boolean>{\r\n    return this.http.get<boolean>(`${this.url}-validate-categoryexist?name_category=${name_category}`);\r\n  }\r\n\r\n\r\n//Ruta para crear una categoria\r\n\r\n  createPurchase(categoriaData: any):Observable<any>{\r\n    return this.http.post(this.url, categoriaData)\r\n  }\r\n\r\n\r\n  //Ruta para traer una categoria en especifico\r\n  getPurchaseById(id: number):Observable<any>{\r\n    if (typeof id !== 'number' || isNaN(id)) {\r\n      // Manejar el caso en el que id no sea un número válido, por ejemplo, mostrar un error.\r\n      console.error('ID de categoría no válido');\r\n      \r\n    }\r\n    return this.http.get(this.url + '/' + id, {});\r\n  }\r\n\r\n\r\n  //Ruta para cambiar el estado de una categoria\r\n  PurchaseChangeStatus(id: any):Observable<any>{\r\n    return this.http.put(this.url + '/change-status' + id, {});\r\n\r\n\r\n  }\r\n\r\n  savePurchase(category) {\r\n    if(category.id_category) {\r\n        return this.http.put<any[]>('/api/purchase/'+category.id_category, category);\r\n    } else {\r\n        category.id = Utils.genId();\r\n        return this.http.post<any[]>('/api/purchase/', category);\r\n    }\r\n}\r\n\r\n\r\n  categoryPut(id: any):Observable<any>{\r\n    return this.http.put(this.url + '/' + id, {});\r\n  }\r\n}","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators, FormControl,UntypedFormGroup, UntypedFormBuilder, UntypedFormArray  } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { PurchasesService } from 'src/app/shared/services/purchase.service';\r\nimport { Utils } from 'src/app/shared/utils';\r\n\r\n\r\n\r\n\r\ninterface PurchaseInterface {\r\n  name_purchase: string;\r\n  observation_purchase: string;\r\n  state_purchase: string;\r\n  creation_date: string;\r\n\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-purchase-print-purchase',\r\n  templateUrl: './purchase-detail.component.html',\r\n  styleUrls: ['./purchase-detail.component.scss']\r\n})\r\nexport class PurchaseDetailComponent implements OnInit {\r\n  purchaseForm: FormGroup;\r\n  purchaseFormEdit: UntypedFormGroup;\r\n  purchaseFormSub: Subscription;\r\n  loading: boolean;\r\n  purchaseExists: boolean;\r\n  viewMode:'new-purchase' | 'edit-purchase' | 'print-purchase' = 'new-purchase';\r\n  purchaseId: string;\r\n  saving: boolean;\r\n  purchase: any = {};\r\n  isNew: boolean;\r\n  id: string;\r\n  purchases: PurchaseInterface = {\r\n    name_purchase: '',\r\n    observation_purchase: '',\r\n    state_purchase: 'Activo',\r\n    creation_date: ''\r\n  };\r\n\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private fb: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private purchaseService: PurchasesService\r\n  ) {\r\n\r\n    this.purchaseForm = this.formBuilder.group({\r\n      name_purchase: [\r\n            '',\r\n            [\r\n              Validators.required,\r\n              Validators.maxLength(80),\r\n              Validators.pattern('^[a-zA-ZáéíóúñÑ ]+$'),\r\n            ],\r\n            (control) => this.validatePurchaseExist(control)\r\n          ],\r\n          \r\n          \r\n          observation_purchase: ['', Validators.maxLength(100)]\r\n        });\r\n  \r\n    // this.purchaseForm = this.fb.group({\r\n    //   name_purchase: [\r\n    //     '',\r\n    //     [\r\n    //       Validators.required,\r\n    //       Validators.maxLength(80),\r\n    //       Validators.pattern('^[a-zA-ZáéíóúñÑ ]+$'),\r\n    //     ],\r\n    //     (control) => this.validatePurchaseExist(control)\r\n    //   ],\r\n      \r\n      \r\n    //   observation_purchase: ['', Validators.maxLength(100)]\r\n    // });\r\n  }\r\n\r\n  ngOnInit() {\r\n   let id =  this.id = this.route.snapshot.params['id'];\r\n    this.isNew = !this.id;\r\n    this.setViewMode();\r\n    this.getPurchase();\r\n    this.buildPurchaseForm(this.purchase);\r\n    if (this.id) {\r\n        this.viewMode = 'print-purchase';\r\n        this.purchaseService.getPurchaseById(id)\r\n            .subscribe(res => {\r\n                this.purchase = res;\r\n                this.buildPurchaseForm(this.purchase);\r\n                \r\n            })\r\n    }\r\n}\r\n\r\n  validatePurchaseExist(control: FormControl) {\r\n    return new Promise((resolve) => {\r\n      if (!control.value) {\r\n        resolve(true);\r\n      } else {\r\n        this.purchaseService.getValidatePurchaseExist(control.value).subscribe(\r\n          (isAvailable) => {\r\n            this.purchaseExists = isAvailable;\r\n            resolve(this.purchaseExists ? { purchaseTaken: true } : null);\r\n          },\r\n          (error) => {\r\n            \r\n            this.purchaseExists = true;\r\n            resolve({ purchaseTaken: true });\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n  \r\n  getPurchase() {\r\n    this.id = this.route.snapshot.params['id_purchase'];\r\n    console.log(this.id);\r\n    this.purchaseService.getPurchaseById(parseInt(this.id)).subscribe(\r\n        (data) => {\r\n            this.purchase = data;\r\n            console.log(this.purchase);\r\n        },\r\n        (error) => {\r\n            console.error('Error al obtener rol:', error);\r\n        }\r\n    );\r\n}\r\n\r\n  createPurchase() {\r\n    this.purchaseForm.markAllAsTouched();\r\n    if (this.purchaseForm.valid) {\r\n      const purchaseData = this.purchaseForm.value;\r\n      this.loading = true;\r\n  \r\n      this.purchaseService.createPurchase(purchaseData).subscribe(\r\n        () => {\r\n          this.loading = false;\r\n          this.submit();\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          this.toastr.error('Ocurrió un error al crear la categoría.', 'Error');\r\n        }\r\n      );\r\n    } else {\r\n      this.toastr.error('Por favor, complete todos los campos correctamente.', 'Error de validación', { progressBar: true, timeOut: 3000 });\r\n    }\r\n  }\r\n  \r\n\r\n  cancel() {\r\n\r\n      this.router.navigateByUrl('/purchases');\r\n}\r\n\r\n\r\n        \r\nsubmit() {\r\n  if (!this.loading) {\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n          this.loading = false;\r\n          this.toastr.success('Categoría registrada con éxito.', 'Éxito', { progressBar: true, timeOut: 3000 });\r\n          setTimeout(() => {\r\n              this.router.navigateByUrl('/purchase');\r\n          }, 3000);\r\n      }, 3000);\r\n  }\r\n}\r\n\r\n\r\n\r\nsetViewMode() {\r\n  const currentRoute = this.router.url;\r\n  if (currentRoute.includes('/new')) {\r\n    this.viewMode = 'new-purchase';\r\n  } else if (currentRoute.includes('/print-purchase')) {\r\n    this.viewMode = 'print-purchase';\r\n  }\r\n}\r\n\r\nbuildPurchaseForm(i: any = {}) {\r\n  this.purchaseForm = this.fb.group({\r\n    id: [i.id_purchase],\r\n    datePurchaseCreation: [i.creation_date_purchase ? Utils.dateToNgbDate(i.creation_date_purchase) : {}],\r\n    editPurchase: this.fb.group({\r\n      name_purchase: [i.editPurchase ? i.editPurchase.name_purchase : ''],\r\n      observation_purchase: [i.editPurchase ? i.editPurchase.observation_purchase : ''],\r\n      state_purchase: [i.editPurchase ? i.editPurchase.state_purchase : ''],\r\n      creation_date_purchase: ['']\r\n    }),\r\n  });\r\n\r\n  // Escucha los cambios de valor y calcula el total si es necesario.\r\n  if (this.purchaseFormSub) {\r\n    this.purchaseFormSub.unsubscribe();\r\n  }\r\n}\r\n\r\n\r\n\r\nsavePurchase() {\r\n  this.saving = true;\r\n  this.purchase = this.purchaseForm.value;\r\n  this.purchase.orderDate = Utils.ngbDateToDate(this.purchaseForm.value.orderDate);\r\n  this.purchaseService.savePurchase(this.purchaseForm.value)\r\n      .subscribe((savedPurchase: any) => {\r\n          this.viewMode = 'print-purchase';\r\n          this.saving = false;\r\n          this.toastr.success('Categoria Actualizada Correctamente', 'Éxito!', { timeOut: 3000 });\r\n          if(this.isNew) {\r\n              this.router.navigateByUrl('/purchase/edit/'+savedPurchase.id);\r\n          }\r\n      });\r\n}\r\n\r\n\r\n\r\nprint() {\r\n  if (window) {\r\n      window.print();\r\n  }\r\n}\r\n\r\n\r\n}\r\n","<div class=\"breadcrumb\">\r\n  <h1 *ngIf=\"viewMode === 'new-purchase'\">Registrar Compra</h1>\r\n  <h1 *ngIf=\"viewMode === 'print-purchase'\"></h1>\r\n  <ul>\r\n    <li><a [routerLink]=\"['/purchases']\">Compras</a></li>\r\n    <li *ngIf=\"viewMode === 'new-purchase'\">Registrar Compra</li>\r\n    <li *ngIf=\"viewMode === 'print-purchase'\"> Detalle de Compra</li>\r\n    \r\n  </ul>\r\n</div>\r\n<div class=\"separator-breadcrumb border-top\"></div>\r\n<div class=\"form-container\">\r\n  <br>\r\n  <br>\r\n \r\n  \r\n \r\n  <!--VISTA DE IMPRIMIR --->\r\n  <div id=\"print-area\" *ngIf=\"viewMode === 'print-purchase'\" class=\"print-view\">\r\n\r\n    <div class=\"d-sm-flex mb-5\" >\r\n    \r\n      <span class=\"m-auto\"></span>\r\n      <button class=\"btn btn-outline-secondary me-3 mb-sm-0 mb-3 button-spacing\" routerLink=\"/purchases\">Regresar</button>\r\n\r\n      <button class=\"btn btn-primary mb-sm-0 mb-3\" (click)=\"print()\">Imprimir Compra</button>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <h4 class=\"font-weight-bold\"> Información de Compra</h4>\r\n            <p>#{{invoice_number}}</p>\r\n        </div>\r\n        <div class=\"col-md-6 text-sm-right\">\r\n            <p><strong>Estado: </strong> {{invoice?.state_purchase}}</p>\r\n            <p><strong>Fecha de compra: </strong> {{invoice?.purchase_date | date}}</p>\r\n            <p><strong>Fecha de Registro: </strong> {{invoice?.record_date_purchase | date}}</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"mt-3 mb-4 border-top\"></div>\r\n    <div class=\"row mb-5\">\r\n        <div class=\"col-md-6 mb-3 mb-sm-0\">\r\n            <h5 class=\"font-weight-bold\"></h5>\r\n            <p><strong>Proveedor: </strong>{{invoice?.detailPurchase?.id_provider}}</p>\r\n            <span style=\"white-space: pre-line\">\r\n              <strong>Observación: </strong> {{invoice?.detailPurchase?.observation_purchase}}\r\n            </span>\r\n        </div>\r\n       \r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <table class=\"table table-hover mb-4\">\r\n                <thead class=\"bg-gray-300\">\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Producto</th>\r\n                        <th scope=\"col\">Categoría</th>\r\n                        <th scope=\"col\">precio Compra</th>\r\n                        <th scope=\"col\">Precio Venta</th>\r\n                        <th scope=\"col\">Iva</th>\r\n                        <th scope=\"col\">Cantidad</th>\r\n                        <th scope=\"col\">Sub Total</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of invoice?.items; let i = index\">\r\n                        <th scope=\"row\">{{i + 1}}</th>\r\n                        <td>{{item.id_product}}</td>\r\n                        <td>{{item.product_category}}</td>\r\n                        <td>{{item.cost_price}}</td>\r\n                        <td>{{item.selling_price}}</td>\r\n                        <td>{{item.product_category}}</td>\r\n                        <td>{{item.vat}}</td>\r\n                        <td>{{item.product_quantity}}</td>\r\n                        <td>{{item.cost_price + item.vat * product_quantity}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"col-md-12\">\r\n            <div class=\"invoice-summary float-right\">\r\n             \r\n                <h5 class=\"font-weight-bold\">Total Compra: <span>\r\n                    {{total_purchase}}\r\n                </span></h5>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n   <!-- FIN VISTA DE IMPRIMIR --->\r\n\r\n\r\n<!--VISTA DE CREAR COMPRAS --->\r\n<div *ngIf=\"viewMode == 'new-purchase'\">\r\n  <form [formGroup]=\"categoryForm\" (ngSubmit)=\"submitCategory()\">\r\n    <section class=\"ng-container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"fechaCompra\">Fecha Compra<span class=\"required\">*</span></label>\r\n            <input type=\"date\" class=\"form-control\" id=\"fechaCompra\" placeholder=\"Fecha Compra\" style=\"width: 100%;\" />\r\n            <div class=\"textoc\" id=\"textoc\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"numFactura\">Numero Factura<span class=\"required\">*</span></label>\r\n            <input type=\"text\" class=\"form-control\" id=\"numFactura\" placeholder=\"Numero de factura\" style=\"width: 100%;\" />\r\n            <div class=\"textoF\" id=\"textoF\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <div class=\"form-group\">\r\n            <label for=\"observaciones\">Proveedor<span class=\"required\">*</span></label>\r\n            <input type=\"text\" class=\"form-control\" id=\"observaciones\" placeholder=\"Observaciones\" style=\"width: 100%;\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"categoria\">Categoria<span class=\"required\">*</span></label>\r\n            <select class=\"form-control select2bs4\" style=\"width: 100%;\" id=\"categoria\">\r\n              <option selected=\"selected\">Elija una categoria</option>\r\n              <option>Belleza</option>\r\n              <option>Limpieza</option>\r\n            </select>\r\n            <div class=\"texto4\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"producto\">Producto<span class=\"required\">*</span></label>\r\n            <div class=\"input-group\">\r\n              <input type=\"text\" class=\"form-control\" id=\"producto\" placeholder=\"Digite el producto\" style=\"width: 100%;\" />\r\n             \r\n            </div>\r\n            <div class=\"texto3\" id=\"texto3\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-2\">\r\n          <div class=\"form-group\">\r\n            <label for=\"producto\"></label>\r\n            <div class=\"input-group\">\r\n             \r\n              <div class=\"button_container\">\r\n                <button class=\"btn btn-success float-right\" [routerLink]=\"['/products']\">Producto Nuevo</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"texto3\" id=\"texto3\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"producto\"></label>\r\n            <div class=\"input-group\">\r\n             \r\n              <div class=\"button_container\">\r\n                <button class=\"btn btn-warning\" (click)=\"addProduct()\"><i class=\"i-Add\"></i> Agregar Item</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"texto3\" id=\"texto3\"></div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      \r\n    \r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"precioCompra\">Precio Compra<span class=\"required\">*</span></label>\r\n            <input type=\"text\" class=\"form-control\" id=\"precioCompra\" placeholder=\"Precio Compra\" style=\"width: 100%;\" />\r\n            <div class=\"texto5\" id=\"texto5\"></div>\r\n          </div>\r\n        </div>\r\n\r\n      <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"precioCompra\">Precio Venta<span class=\"required\">*</span></label>\r\n            <input type=\"text\" class=\"form-control\" id=\"precioCompra\" placeholder=\" Precio Venta\" style=\"width: 100%;\" />\r\n            <div class=\"texto5\" id=\"texto5\"></div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"precioVenta\"> Iva<span class=\"required\">*</span></label>\r\n            <input type=\"text\" class=\"form-control\" id=\"precioVenta\" placeholder=\"Iva\" style=\"width: 100%;\" />\r\n            <div class=\"texto7\" id=\"texto7\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"cantidad\">Cantidad<span class=\"required\">*</span></label>\r\n            <input type=\"text\" class=\"form-control\" id=\"cantidad\" placeholder=\"Cantidad\" style=\"width: 100%;\" />\r\n            <div class=\"texto8\" id=\"texto8\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    \r\n \r\n    <section class=\"ng-container\">\r\n      <div class=\"col-md-12 mt-4 table-border\">\r\n        <table class=\"table table-hover mb-4\">\r\n          <thead class=\"bg-gray-300\">\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Nombre del Producto</th>\r\n              <th scope=\"col\">Precio Unitario</th>\r\n              <th scope=\"col\">Unidades</th>\r\n              <th scope=\"col\">Subtotal</th>\r\n              <th scope=\"col\">Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody formArrayName=\"products\">\r\n            <ng-container *ngIf=\"viewMode === 'new'; else detailView\">\r\n              <tr *ngFor=\"let product of productsFormArray.controls; let i = index\" [formGroupName]=\"i\">\r\n                <th scope=\"row\">{{i + 1}}</th>\r\n                <td>\r\n                  <select class=\"form-control\" id=\"id_product\" formControlName=\"id_product\"\r\n                    (change)=\"handleProductSelection($event, i)\">\r\n                    <option *ngFor=\"let product of listProducts\" [value]=\"product.id_product\">{{ product.name_product }}</option>\r\n                  </select>\r\n                </td>\r\n                <td>\r\n                  <input type=\"number\" name=\"unitPrice\" id=\"unitPrice\" class=\"form-control\" formControlName=\"unitPrice\"\r\n                    [readonly]=\"true\" *ngIf=\"viewMode === 'new'\">\r\n                </td>\r\n                <td>\r\n                  <input type=\"number\" class=\"form-control\" formControlName=\"unit\" (change)=\"handleProductSelection($event, i)\">\r\n                </td>\r\n                <td>\r\n                  <input type=\"number\" class=\"form-control\" formControlName=\"subtotal\" [readonly]=\"true\">\r\n                </td>\r\n                <td>\r\n                  <button class=\"btn btn-danger\" (click)=\"removeProduct(i)\">\r\n                    <i class=\"i-Remove-Cart\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </ng-container>\r\n            <ng-template #detailView>\r\n              <tr *ngFor=\"let product of order_detail_products; let i = index\">\r\n                <th scope=\"row\">{{i + 1}}</th>\r\n                <td>{{ product.id_product }}</td>\r\n                <td>{{ product.product_price }}</td>\r\n                <td>{{ product.product_quantity}}</td>\r\n                <td>{{ product.product_quantity }}</td>\r\n                <td></td>\r\n              </tr>\r\n            </ng-template>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"table-footer\">\r\n              \r\n<div class=\"col-md-8\"></div>\r\n\r\n</div>\r\n\r\n  <br>\r\n<div class=\"col-md-8\">\r\n  <div class=\"total\"><strong>Total Compra:</strong> {{ viewMode === 'new' ? calculateTotal() : orderTotal }}</div>\r\n</div>\r\n</div>\r\n<div class=\"row mt-4\"> <!-- Añadido un espacio superior -->\r\n<div class=\"col-md-6 form-group mb-3\">\r\n<label for=\"observation\">Observación</label>\r\n<textarea class=\"form-control\" id=\"observation_category\" placeholder=\"Observación\" formControlName=\"observation_category\"></textarea>\r\n<div *ngIf=\"categoryForm.get('observation_category').hasError('maxlength')\" class=\"error-message\">\r\n  El campo Observación no puede superar los 100 caracteres.\r\n\r\n  El campo Observación no puede super\r\n\r\n  El campo Observación\r\n</div>\r\n</div>\r\n</div>\r\n    </section>\r\n    \r\n    <div class=\"col-md-12\" style=\"margin-top: 20px;\">\r\n      <div class=\"d-flex justify-content-end\">\r\n        <button class=\"btn btn-danger float-right\" [routerLink]=\"['/orders']\">Volver</button>\r\n        <div *ngIf=\"viewMode === 'new-purchase'\" style=\"width: 10px;\"></div>\r\n        <btn-loading  btnClass=\"btn-primary\" [loading]=\"loading\">Crear\r\n          Pedido</btn-loading>\r\n      </div>\r\n    </div>\r\n \r\n  </form>\r\n</div>\r\n\r\n<!-- FIN VISTA DE CREAR COMPRAS --->\r\n\r\n","import { Component, OnInit,ViewChild, ElementRef} from '@angular/core';\r\nimport { PurchasesService } from 'src/app/shared/services/purchase.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n// ...\r\n\r\n@Component({\r\n  selector: 'app-purchase-list',\r\n  templateUrl: './purchase-list.component.html',\r\n  styleUrls: ['./purchase-list.component.scss']\r\n})\r\nexport class PurchaseListComponent implements OnInit {\r\n  searchControl: FormControl = new FormControl();\r\n  listPurchases: any[] = [];\r\n  filteredPurchases: any[] = [];\r\n  purchases: any[] = [];\r\n  offset: number = 0;\r\n  pageSize: number = 6;\r\n  currentPage: number = 1;\r\n  modalAbierto = false;\r\n  loading: boolean;\r\n\r\n\r\n  constructor(\r\n    private _purchaseService: PurchasesService,\r\n    private modalService: NgbModal,\r\n    private toastr: ToastrService,\r\n  ) {}\r\n\r\n  ngOnInit(): void{\r\n    this._purchaseService.getAllPurchase().subscribe((res: any[]) => {\r\n      this.listPurchases =[...res];\r\n      this.filteredPurchases = res;\r\n    });\r\n\r\n    this.searchControl.valueChanges.pipe(debounceTime(200)).subscribe(value => {\r\n      this.filterData(value);\r\n    });\r\n  }\r\n\r\n\r\n  filterData(val) {\r\n    if (val) {\r\n        val = val.toLowerCase();\r\n    } else {\r\n        return this.filteredPurchases = [...this.purchases];\r\n    }\r\n\r\n    const columns = Object.keys(this.purchases[0]);\r\n    if (!columns.length) {\r\n        return;\r\n    }\r\n\r\n    const rows = this.purchases.filter(function (d) {\r\n        for (let i = 0; i <= columns.length; i++) {\r\n            const column = columns[i];\r\n            if (d[column] && d[column].toString().toLowerCase().indexOf(val) > -1) {\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    this.filteredPurchases = rows;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  onPageChange(event: any) {\r\n    console.log('onPageChange: ', event);\r\n    this.currentPage = event.offset +1;\r\n    this.loadData(); // Llama a loadData al cambiar de página\r\n  }\r\n  \r\n  loadData() {\r\n    const startIndex = (this.currentPage - 1) * this.pageSize;\r\n    let endIndex = startIndex + this.pageSize;\r\n\r\n    const totalPages = Math.ceil(this.listPurchases.length / this.pageSize);\r\n\r\n    if (this.currentPage === totalPages) {\r\n        const remainingRows = this.listPurchases.length % this.pageSize;\r\n        if (remainingRows > 0) {\r\n            endIndex = startIndex + remainingRows;\r\n        }\r\n    }\r\n\r\n    // Ajusta el índice para que sea el próximo número divisible por 6 \r\n    const rowsToAdd = 6 - (endIndex % 6);\r\n    endIndex += rowsToAdd;\r\n\r\n    this.filteredPurchases = this.listPurchases.slice(startIndex, endIndex);\r\n\r\n    console.log('load data charged');\r\n  }\r\n\r\n  sortListCategoryById() {\r\n    this.listPurchases.sort((a, b) => a.id_purchase - b.id_purchase);\r\n}\r\n\r\n\r\n  getPurchases() {\r\n    this._purchaseService.getAllPurchase().subscribe(\r\n        (data) => {\r\n            this.listPurchases = data;\r\n            this.sortListCategoryById();\r\n        },\r\n        (error) => {\r\n            console.error('Error al obtener categorías:', error);\r\n        }\r\n    );\r\n  }\r\n  \r\n\r\n  @ViewChild('deleteConfirmModal', { static: true }) deleteConfirmModal: any;\r\n\r\n  openModal(idCategory: number) {\r\n      this._purchaseService.getPurchaseById(idCategory).subscribe\r\n      if (!this.modalAbierto) {\r\n          this.modalAbierto = true;\r\n          this.modalService.open(this.deleteConfirmModal, { centered: true }).result.then(\r\n              (result) => {\r\n                  if (result === 'Ok') {\r\n                      this._purchaseService.PurchaseChangeStatus(idCategory).subscribe(\r\n                          (data) => {\r\n\r\n                              this.loading = false;\r\n                              this.toastr.success('Cambio de estado realizado con éxito.', 'Proceso Completado', { progressBar: true, timeOut: 2000 });\r\n                              console.log(data);\r\n\r\n                              setTimeout(() => {\r\n                                  location.reload();\r\n                              }, 2000);\r\n                          },\r\n                          (error) => {\r\n                              this.loading = false;\r\n                              this.toastr.error('Fallo al realizar el cambio de estado.', 'Error', { progressBar: true, timeOut: 2000 });\r\n                              console.error('Error al cambiar de estado:', error);\r\n                          }\r\n                      );\r\n                  } else if (result === 'Cancel') {\r\n                      this.modalAbierto = false;\r\n                      setTimeout(() => {\r\n                          location.reload();\r\n                      }, 2000);\r\n                  }\r\n              },\r\n              (reason) => {\r\n                  this.modalAbierto = false;\r\n                  location.reload();\r\n              }\r\n          );\r\n      }\r\n  }\r\n\r\n\r\n  toggleState(row: any) {\r\n    row.state_category = !row.state_category;\r\n    // Aquí puedes realizar acciones adicionales según el nuevo estado, si es necesario.\r\n  }\r\n\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n  \r\n\r\n\r\n","\r\n   \r\n<div class=\"breadcrumb\">\r\n    <h1>Compras</h1>\r\n    <ul>\r\n        <li><a href=\"\">Compras</a></li>\r\n        <li>Lista de Compras</li>\r\n    </ul>\r\n</div>\r\n<div class=\"separator-breadcrumb border-top\"></div>\r\n\r\n<div class=\"row mb-3\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <div class=\"form-group\">\r\n                    <button class=\"btn btn-primary\" [routerLink]=\"['/purchases/new']\">Crear nueva Compra</button>\r\n                </div>\r\n              \r\n            </div>\r\n            <div class=\"col-md-6 text-end\">\r\n                <div class=\"form-group\">\r\n                    <input id=\"id_provider\" placeholder=\"Buscar Category\" [formControl]=\"searchControl\" class=\"form-control\" type=\"text\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"col-md-12\">\r\n        <div class=\"card o-hidden\">\r\n            <ngx-datatable\r\n            class=\"material fullscreen\"\r\n            style=\"height: 460px;\"\r\n            [columnMode]=\"'force'\"\r\n            [headerHeight]=\"50\"\r\n            [footerHeight]=\"50\"\r\n            [rowHeight]=\"'auto'\"\r\n            [rowHeight]=\"60\"\r\n            [scrollbarV]=\"true\"\r\n            [scrollbarH]=\"true\"\r\n            [rows]=\"listPurchases\"\r\n            [externalPaging]=\"true\"\r\n            [count]=\"listPurchases.length\"\r\n            [limit]=\"pageSize\"\r\n            [offset]=\"(currentPage - 1) * pageSize\"\r\n            (page)=\"onPageChange($event)\"\r\n        \r\n          > <!-- Define la cantidad de registros por página -->\r\n              \r\n\r\n\r\n          <ngx-datatable-column name=\"id_provider\" [resizeable]=\"false\" [canAutoResize]=\"true\" [minWidth]=\"100\" >\r\n            <ng-template ngx-datatable-header-template>\r\n              # Factura\r\n            </ng-template>\r\n            <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\" let-rowIndex=\"rowIndex\">\r\n               <ng-container *ngIf=\"row && row.id_purchase\">\r\n               {{ rowIndex + 1 }}. {{ row.invoice_number }}\r\n               </ng-container> \r\n            </ng-template>\r\n        </ngx-datatable-column>\r\n          \r\n                <ngx-datatable-column name=\"id_provider\" [resizeable]=\"false\" [canAutoResize]=\"true\" [minWidth]=\"200\" >\r\n                    <ng-template ngx-datatable-header-template>\r\n                        Proveedor\r\n                    </ng-template>\r\n                    <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\" let-rowIndex=\"rowIndex\">\r\n                       <ng-container *ngIf=\"row && row.id_purchase\">\r\n                       {{ row.id_provider }}\r\n                       </ng-container> \r\n                    </ng-template>\r\n                </ngx-datatable-column>\r\n\r\n                <ngx-datatable-column name=\"invoice_number\" [resizeable]=\"false\" [canAutoResize]=\"true\" [minWidth]=\"100\" >\r\n                    <ng-template ngx-datatable-header-template let-value=\"value\" let-row=\"row\">\r\n                        Fecha \r\n                    </ng-template>\r\n                    <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\r\n                        {{ row.purchase_date | date: 'dd/MM/yyyy' }}\r\n                    </ng-template>\r\n                </ngx-datatable-column>\r\n\r\n             \r\n\r\n                <ngx-datatable-column name=\"tota_purchase\" [resizeable]=\"false\" [canAutoResize]=\"true\" [minWidth]=\"200\">\r\n                    <ng-template ngx-datatable-header-template let-value=\"value\" let-row=\"row\">\r\n                        Total Factura\r\n                    </ng-template>\r\n                    <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\r\n                        {{ row.total_purchase }}\r\n                    </ng-template>\r\n                </ngx-datatable-column>\r\n                  \r\n                <ngx-datatable-column name=\"state_purchase\" [resizeable]=\"false\" [canAutoResize]=\"true\" [minWidth]=\"100\">\r\n                    <ng-template ngx-datatable-header-template let-value=\"value\" let-row=\"row\">\r\n                        Estado\r\n                    </ng-template>\r\n                    <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\r\n                        {{ row.state_purchase }}\r\n                    </ng-template>\r\n                </ngx-datatable-column>\r\n\r\n                <!-- Agrega más columnas según sea necesario para mostrar otras propiedades de los categories -->\r\n                <ngx-datatable-column [resizeable]=\"false\" [canAutoResize]=\"true\" [minWidth]=\"200\">\r\n                    <ng-template ngx-datatable-header-template let-value=\"value\" let-row=\"row\">\r\n                        Acciones\r\n                    </ng-template>\r\n                    <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\r\n                        <button class=\"btn btn-dark m-1\" [routerLink]=\"['/purchases/detail', row.id_purchase]\">\r\n                            <i class=\"i-Eye\"></i>\r\n                        </button>\r\n                        <button class=\"btn btn-danger m-1\" (click)=\"openModal(row.id_purchase)\">\r\n                            <i class=\"i-Close\"></i>\r\n                        </button>\r\n                    \r\n\r\n\r\n    \r\n\r\n                        \r\n                        \r\n\r\n                    </ng-template>\r\n                </ngx-datatable-column>\r\n            </ngx-datatable>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #deleteConfirmModal let-modal>\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"modal-title\">Cambiar Estado del Categoría</h4>\r\n        <button type=\"button\" class=\"close\" aria-label=\"Close button\" aria-describedby=\"modal-title\"\r\n            (click)=\"modal.dismiss('Cross click')\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <p><strong>¿Está seguro de que desea inhabilitar esta compra?</strong></p>\r\n\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-outline-secondary \"\r\n            (click)=\"modal.dismiss('cancel')\">Cancelar</button>\r\n        <button type=\"button\" ngbAutofocus class=\"btn btn-wide btn-danger \"\r\n            (click)=\"modal.close('Ok')\">Aceptar</button>\r\n    </div>\r\n</ng-template>\r\n\r\n<!-- Botón para abrir el modal -->\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { PurchaseDetailComponent } from './purchase-detail/purchase-detail.component';\r\nimport { PurchaseListComponent } from './purchase-list/purchase-list.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: PurchaseListComponent\r\n    },\r\n    {\r\n        path: 'new',\r\n        component: PurchaseDetailComponent\r\n    },\r\n    {\r\n        path: 'detail/:id_purchase',\r\n        component: PurchaseDetailComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PurchaseRoutingModule { }\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms'; // Importa solo ReactiveFormsModule\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { SharedComponentsModule } from 'src/app/shared/components/shared-components.module';\r\nimport {PurchaseDetailComponent } from './purchase-detail/purchase-detail.component';\r\nimport {PurchaseListComponent } from './purchase-list/purchase-list.component';\r\nimport {PurchaseRoutingModule } from './purchase-routing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgxDatatableModule,\r\n    ReactiveFormsModule, // Solo importa ReactiveFormsModule\r\n    SharedComponentsModule,\r\n    NgbModule,\r\n   PurchaseRoutingModule,\r\n    \r\n  ],\r\n  declarations: [PurchaseDetailComponent, PurchaseListComponent]\r\n})\r\nexport class PurchaseModule { }\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}